<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<VBox 
    xmlns="http://javafx.com/javafx/23.0.1" 
    xmlns:fx="http://javafx.com/fxml/1" 
    fx:controller="ca.uoguelph.frontend.SubjectManagerController"
    spacing="15"
    style="-fx-background-color: #f4f4f4;">
    
    <!-- Header Section -->
    <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
        <padding>
            <Insets top="15" right="15" bottom="15" left="15"/>
        </padding>
        
        <!-- University Logo -->
        <ImageView fitHeight="60.0" fitWidth="164.0" preserveRatio="true">
            <image>
                <Image url="@../images/unilogo.png" />
            </image>
        </ImageView>
        
        <!-- Search Container -->
        <HBox alignment="CENTER" spacing="10" HBox.hgrow="ALWAYS">
            <TextField 
                fx:id="searchField"
                promptText="Search Subjects" 
                style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #e0e0e0; -fx-padding: 8;"
                HBox.hgrow="ALWAYS"/>
            
            <Button 
                text="Search" 
                style="-fx-background-color: #4a90e2; -fx-text-fill: white; -fx-background-radius: 20;"
                onAction="#handleSearch"/>
        </HBox>
        
        <!-- Create Subject Button -->
        <Button 
            text="Create Subject" 
            style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-background-radius: 20;"
            onAction="#handleCreateSubject"/>
    </HBox>
    
    <!-- Subjects Table -->
    <ScrollPane 
        style="-fx-background-color: transparent;" 
        VBox.vgrow="ALWAYS">
        <TableView 
            fx:id="subjectsTable" 
            style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
            <columns>
                <TableColumn text="Subject Code" fx:id="subjectCodeColumn" prefWidth="100"/>
                <TableColumn text="Subject Name" fx:id="subjectNameColumn" prefWidth="200"/>
                <TableColumn text="Credits" fx:id="creditsColumn" prefWidth="80"/>
                <TableColumn text="Actions" fx:id="actionsColumn" prefWidth="100"/>
            </columns>
            <placeholder>
                <Label text="No subjects found" style="-fx-font-size: 14px;"/>
            </placeholder>
        </TableView>
    </ScrollPane>
</VBox>